const route=event=>{event.preventDefault();const href=event.currentTarget.href;window.history.pushState({},"",href);handleLocation()};const routes={"/":"./../pages/templates/home.html","/projetos":"./../pages/templates/projetos.html","/cadastro":"./../pages/templates/cadastro.html","/contato":"./../pages/templates/home.html","/politica":"./../pages/templates/politica.html"};const handleLocation=async()=>{const path=window.location.pathname;const route=routes[path];const html=await fetch(route).then(data=>data.text());document.getElementById("app").innerHTML=html;window.scrollTo(0,0);if(path=="/cadastro"){Validation.init()}if(path=="/contato"){window.scrollTo(0,99999)}};window.onpopstate=handleLocation;window.route=route;handleLocation();const Validation={init(){const form=document.getElementById("formulario");const nomeInput=document.getElementById("nome-completo");const emailInput=document.getElementById("email");const cpfInput=document.getElementById("cpf");const telInput=document.getElementById("tel");const nascimentoInput=document.getElementById("nascimento");const cepInput=document.getElementById("cep");const participanteErro=document.getElementById("erro-participante");const nomeErro=document.getElementById("erro-nome");const emailErro=document.getElementById("erro-email");const cpfErro=document.getElementById("erro-cpf");const telErro=document.getElementById("erro-tel");const nascimentoErro=document.getElementById("erro-nascimento");const cepErro=document.getElementById("erro-cep");VMasker(cpfInput).maskPattern("999.999.999-99");VMasker(telInput).maskPattern("(99) 99999-9999");VMasker(cepInput).maskPattern("99999-999");form.addEventListener("submit",event=>{event.preventDefault();let validationsCounter=0;const participante=document.querySelector('input[name="participante"]:checked');const nomeValue=nomeInput.value.trim();const emailValue=emailInput.value.trim();const cpfValue=cpfInput.value.trim();const telValue=telInput.value.trim();const nascimentoValue=nascimentoInput.value;const cepValue=cepInput.value.trim();if(!participante){validationsCounter++;participanteErro.classList.replace("hidden","block")}if(nomeValue.split(" ").length<2){validationsCounter++;nomeErro.classList.replace("hidden","block")}const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!emailRegex.test(emailValue)){validationsCounter++;emailErro.classList.replace("hidden","block")}if(!this.validarCPF(cpfValue)){validationsCounter++;cpfErro.classList.replace("hidden","block")}const telRegex=/^\(\d{2}\) \d{5}-\d{4}$/;if(!telRegex.test(telValue)){validationsCounter++;telErro.classList.replace("hidden","block")}const dataNasc=new Date(nascimentoValue);const hoje=new Date;let idade=hoje.getFullYear()-dataNasc.getFullYear();const mes=hoje.getMonth()-dataNasc.getMonth();if(mes<0||mes===0&&hoje.getDate()<dataNasc.getDate())idade--;if(idade<18){validationsCounter++;nascimentoErro.classList.replace("hidden","block")}const cepRegex=/^\d{5}-\d{3}$/;if(!cepRegex.test(cepValue)){validationsCounter++;cepErro.classList.replace("hidden","block")}if(validationsCounter>0){console.log(validationsCounter);validationsCounter=0;return alert("Preencha todos os campos corretamente.")}participanteErro.classList.replace("block","hidden");nomeErro.classList.replace("block","hidden");emailErro.classList.replace("block","hidden");cpfErro.classList.replace("block","hidden");telErro.classList.replace("block","hidden");nascimentoErro.classList.replace("block","hidden");cepErro.classList.replace("block","hidden");alert(`✅ Obrigado por se conectar!\nRecebemos seu cadastro com sucesso.\nEm breve, nossa equipe entrará em contato com mais informações sobre como participar ou contribuir com nossos projetos.`);form.reset()})},validarCPF(cpf){var Soma=0;var Resto;var strCPF=String(cpf).replace(/[^\d]/g,"");if(strCPF.length!==11)return false;if(["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999"].indexOf(strCPF)!==-1)return false;for(i=1;i<=9;i++)Soma=Soma+parseInt(strCPF.substring(i-1,i))*(11-i);Resto=Soma*10%11;if(Resto==10||Resto==11)Resto=0;if(Resto!=parseInt(strCPF.substring(9,10)))return false;Soma=0;for(i=1;i<=10;i++)Soma=Soma+parseInt(strCPF.substring(i-1,i))*(12-i);Resto=Soma*10%11;if(Resto==10||Resto==11)Resto=0;if(Resto!=parseInt(strCPF.substring(10,11)))return false;return true}};!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.VMasker=b()}(this,function(){var a=[9,16,17,18,36,37,38,39,40,91,92,93],b=function(b){for(var c=0,d=a.length;c<d;c++)if(b==a[c])return!1;return!0},c=function(a){return a=a||{},a={delimiter:a.delimiter||".",lastOutput:a.lastOutput,precision:a.hasOwnProperty("precision")?a.precision:2,separator:a.separator||",",showSignal:a.showSignal,suffixUnit:a.suffixUnit&&" "+a.suffixUnit.replace(/[\s]/g,"")||"",unit:a.unit&&a.unit.replace(/[\s]/g,"")+" "||"",zeroCents:a.zeroCents},a.moneyPrecision=a.zeroCents?0:a.precision,a},d=function(a,b,c){for(;b<a.length;b++)"9"!==a[b]&&"A"!==a[b]&&"S"!==a[b]||(a[b]=c);return a},e=function(a){this.elements=a};e.prototype.unbindElementToMask=function(){for(var a=0,b=this.elements.length;a<b;a++)this.elements[a].lastOutput="",this.elements[a].onkeyup=!1,this.elements[a].onkeydown=!1,this.elements[a].value.length&&(this.elements[a].value=this.elements[a].value.replace(/\D/g,""))},e.prototype.bindElementToMask=function(a){for(var c=this,d=function(d){d=d||window.event;var e=d.target||d.srcElement;b(d.keyCode)&&setTimeout(function(){c.opts.lastOutput=e.lastOutput,e.value=f[a](e.value,c.opts),e.lastOutput=e.value,e.setSelectionRange&&c.opts.suffixUnit&&e.setSelectionRange(e.value.length,e.value.length-c.opts.suffixUnit.length)},0)},e=0,g=this.elements.length;e<g;e++)this.elements[e].lastOutput="",this.elements[e].onkeyup=d,this.elements[e].value.length&&(this.elements[e].value=f[a](this.elements[e].value,this.opts))},e.prototype.maskMoney=function(a){this.opts=c(a),this.bindElementToMask("toMoney")},e.prototype.maskNumber=function(){this.opts={},this.bindElementToMask("toNumber")},e.prototype.maskAlphaNum=function(){this.opts={},this.bindElementToMask("toAlphaNumeric")},e.prototype.maskPattern=function(a){this.opts={pattern:a},this.bindElementToMask("toPattern")},e.prototype.unMask=function(){this.unbindElementToMask()};var f=function(a){if(!a)throw new Error("VanillaMasker: There is no element to bind.");var b="length"in a?a.length?a:[]:[a];return new e(b)};return f.toMoney=function(a,b){if(b=c(b),b.zeroCents){b.lastOutput=b.lastOutput||"";var d="("+b.separator+"[0]{0,"+b.precision+"})",e=new RegExp(d,"g"),f=a.toString().replace(/[\D]/g,"").length||0,g=b.lastOutput.toString().replace(/[\D]/g,"").length||0;a=a.toString().replace(e,""),f<g&&(a=a.slice(0,a.length-1))}var h=a.toString().replace(/[\D]/g,""),i=new RegExp("^(0|\\"+b.delimiter+")"),j=new RegExp("(\\"+b.separator+")$"),k=h.substr(0,h.length-b.moneyPrecision),l=k.substr(0,k.length%3),m=new Array(b.precision+1).join("0");k=k.substr(k.length%3,k.length);for(var n=0,o=k.length;n<o;n++)n%3==0&&(l+=b.delimiter),l+=k[n];l=l.replace(i,""),l=l.length?l:"0";var p="";if(!0===b.showSignal&&(p=a<0||a.startsWith&&a.startsWith("-")?"-":""),!b.zeroCents){var q=h.length-b.precision,r=h.substr(q,b.precision),s=r.length;m=(m+r).slice(-(b.precision>s?b.precision:s))}return(b.unit+p+l+b.separator+m).replace(j,"")+b.suffixUnit},f.toPattern=function(a,b){var c,e="object"==typeof b?b.pattern:b,f=e.replace(/\W/g,""),g=e.split(""),h=a.toString().replace(/\W/g,""),i=h.replace(/\W/g,""),j=0,k=g.length,l="object"==typeof b?b.placeholder:void 0;for(c=0;c<k;c++){if(j>=h.length){if(f.length==i.length)return g.join("");if(void 0!==l&&f.length>i.length)return d(g,c,l).join("");break}if("9"===g[c]&&h[j].match(/[0-9]/)||"A"===g[c]&&h[j].match(/[a-zA-Z]/)||"S"===g[c]&&h[j].match(/[0-9a-zA-Z]/))g[c]=h[j++];else if("9"===g[c]||"A"===g[c]||"S"===g[c])return void 0!==l?d(g,c,l).join(""):g.slice(0,c).join("")}return g.join("").substr(0,c)},f.toNumber=function(a){return a.toString().replace(/(?!^-)[^0-9]/g,"")},f.toAlphaNumeric=function(a){return a.toString().replace(/[^a-z0-9 ]+/i,"")},f});